{"version":3,"sources":["utils/song.js","components/SoundButtonGroup.js","components/Player.js","App.js","registerServiceWorker.js","utils/sound-key-mapper.js","index.js"],"names":["song","frequency","duration","key","label","components_SoundButtonGroup","Object","styles","theme","button","display","margin","spacing","unit","_ref","classes","sounds","onClick","xs","react_default","a","createElement","className","map","_ref2","index_es","variant","concat","title","Player_Player","Player","_getPrototypeOf2","_this","_classCallCheck","this","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","playTrack","synth","triggerAttackRelease","Tone_default","Synth","toMaster","_this2","props","buttons","index","react","components_Player","alignItems","flexWrap","justifyContent","src_App","_layout","heroContent","color","maxWidth","padding","layout","backgroundColor","flexGrow","_defineProperty","breakpoints","up","width","marginLeft","marginRight","fontFamily","CssBaseline_default","align","gutterBottom","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","react_dom_default","render","document","getElementById","URL","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","reduce","acc","sound","event","keyPressed","toUpperCase","filter","_sound$"],"mappings":"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","file":"static/js/main.fc77d2dd.chunk.js","sourcesContent":["// Set sounds using letter notes\n// C D E F G A B\nexport const song = [\n  [\n    { frequency: 'C3', duration: 0.7, key: 'A', label: 'ca' },\n    { frequency: 'E#3', duration: 0.4, key: 'Z', label: 'pi' },\n    { frequency: 'A#3', duration: 0.3, key: 'E', label: 'taine' },\n  ],\n  [{ frequency: 'A3', duration: 0.4, key: 'R', label: 'flemme' }],\n  [{ frequency: 'G3', duration: 0.3, key: 'T', label: 'tu' }],\n  [{ frequency: 'F3', duration: 0.3, key: 'Y', label: 'n’es' }],\n  [{ frequency: 'A3', duration: 0.4, key: 'U', label: 'pas' }],\n  [{ frequency: 'G3', duration: 0.3, key: 'I', label: 'de' }],\n  [\n    { frequency: 'A#3', duration: 0.4, key: 'O', label: 'no' },\n    { frequency: 'A3', duration: 0.4, key: 'P', label: 'tre' },\n  ],\n  [\n    { frequency: 'G3', duration: 0.3, key: 'Q', label: 'ga' },\n    { frequency: 'F3', duration: 0.3, key: 'S', label: 'la' },\n    { frequency: 'C3', duration: 0.5, key: 'D', label: 'xie' },\n  ],\n]\n","import { arrayOf, func, number, object, shape, string } from 'prop-types'\nimport React from 'react'\n\nimport { Button, withStyles } from '@material-ui/core'\n\nconst styles = (theme) => ({\n  button: {\n    display: 'inline-flex',\n    margin: theme.spacing.unit,\n  },\n})\n\nconst SoundButtonGroup = ({ classes, sounds, xs, onClick }) => {\n  return (\n    <span className={classes.button}>\n      {sounds.map(({ label, duration, frequency, key }) => (\n        <Button\n          variant=\"contained\"\n          key={`${label}-${frequency}`}\n          onClick={() => onClick({ frequency, duration })}\n          title={`Touche « ${key} »`}\n        >\n          {label}\n        </Button>\n      ))}\n    </span>\n  )\n}\n\nSoundButtonGroup.propTypes = {\n  classes: object.isRequired,\n  sounds: arrayOf(\n    shape({\n      label: string.isRequired,\n      frequency: string.isRequired,\n      duration: number.isRequired,\n    })\n  ).isRequired,\n  xs: number,\n  onClick: func,\n}\n\nexport default withStyles(styles)(SoundButtonGroup)\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport Tone from 'tone'\n\nimport { withStyles } from '../../node_modules/@material-ui/core'\n\nimport { song } from '../utils/song'\nimport SoundButton from './SoundButtonGroup'\n\nconst styles = (theme) => ({\n  buttons: {\n    alignItems: 'center',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n})\n\nclass Player extends Component {\n  constructor(...args) {\n    super(...args)\n    // Create a synth and connect it to the master output (your speakers)\n    this.synth = new Tone.Synth().toMaster()\n  }\n\n  playTrack = ({ frequency, duration }) => {\n    this.synth.triggerAttackRelease(frequency, duration)\n  }\n\n  render() {\n    const { classes } = this.props\n\n    return (\n      <div className={classes.buttons}>\n        {song.map((sounds, index) => (\n          <SoundButton sounds={sounds} key={index} onClick={this.playTrack} />\n        ))}\n      </div>\n    )\n  }\n}\n\nPlayer.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Player)\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { Typography } from '../node_modules/@material-ui/core'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport 'typeface-roboto'\n\nimport Player from './components/Player'\n\nconst styles = (theme) => ({\n  heroContent: {\n    color: '#fff',\n    margin: '0 auto',\n    maxWidth: 600,\n    padding: `${theme.spacing.unit * 3}px 0 ${theme.spacing.unit * 6}px`,\n  },\n  layout: {\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    flexGrow: 1,\n    margin: theme.spacing.unit * 3,\n    // padding: theme.spacing.unit * 2,\n    padding: `${theme.spacing.unit * 6}px 0`,\n    [theme.breakpoints.up(900 + theme.spacing.unit * 3 * 2)]: {\n      width: 900,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n    width: 'auto',\n  },\n  title: {\n    fontFamily: \"'Bungee Shade', cursive\",\n    color: '#486779',\n  },\n})\n\nconst App = ({ classes }) => {\n  return (\n    <main className={classes.layout}>\n      <CssBaseline />\n      <div className={classes.heroContent}>\n        <Typography\n          className={classes.title}\n          variant=\"display2\"\n          align=\"center\"\n          color=\"textPrimary\"\n          gutterBottom\n        >\n          Capitaine Flemme\n        </Typography>\n        <Typography align=\"center\" color=\"textSecondary\" component=\"p\">\n          Chaque bouton désigne une note de la chanson.\n          <br />\n          Vous pouvez également utiliser votre clavier (AZERTYUIOPQSD).\n        </Typography>\n      </div>\n      <Player />\n    </main>\n  )\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(App)\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import Tone from 'tone'\n\nimport { song } from './song'\n\nexport const triggerSoundOnKeyUp = () => {\n  const sounds = song.reduce((acc, sound) => acc.concat(sound), [])\n  console.log(sounds)\n\n  document.addEventListener(\n    'keyup',\n    (event) => {\n      const keyPressed = event.key.toUpperCase()\n      const sound = sounds.filter(({ key }) => keyPressed === key)\n      if (!sound.length) {\n        return\n      }\n      const { frequency, duration } = sound[0]\n      const synth = new Tone.Synth().toMaster()\n      synth.triggerAttackRelease(frequency, duration)\n    },\n    false\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\nimport { triggerSoundOnKeyUp } from './utils/sound-key-mapper'\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()\n\ntriggerSoundOnKeyUp()\n"],"sourceRoot":""}